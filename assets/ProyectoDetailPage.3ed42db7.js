import{k as ve,l as ge,m as ye,b as F,Q as D,a as s,g as w}from"./QTable.54a77e6e.js";import{c as ie,Q as le,a as E,b as U}from"./QPageSticky.a179ccb3.js";import{i as Q,j as z,h as C,k as ue,a4 as be,a5 as Ce,p as re,z as ze,q as _e,am as qe,aT as Se,M as p,y as ke,g as we,_ as Ve,n as Pe,o as _,c as V,w as a,f as u,aw as r,b2 as j,a$ as P,a as o,e as n,ah as x,N as q,J as m,af as A,ax as S,Q as L}from"./index.ef228992.js";import{c as xe,u as Ee,a as Ue,b as Ae}from"./use-panel.c72e6d38.js";import{Q as b}from"./QInput.a2bee355.js";import{Q as k}from"./QCardActions.bed2bb53.js";import{Q as Ie}from"./QPage.2fc420a1.js";import{T as ne}from"./TouchPan.9047fff0.js";import{C as O}from"./ClosePopup.6197016b.js";import{h as se}from"./moment.9709ab41.js";import{a as f}from"./authenticate.bcdfbf4f.js";import{api as h}from"./axios.23aa70c0.js";import{u as Te}from"./index.403b85a6.js";import"./format.6bd9982d.js";import"./use-key-composition.25c6204a.js";import"./QItemLabel.1cc16253.js";import"./js.cookie.f93afda9.js";var R=Q({name:"QCarouselSlide",props:{...xe,imgSrc:String},setup(e,{slots:i}){const d=z(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>C("div",{class:"q-carousel__slide",style:d.value},ue(i.default))}}),Fe=Q({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,default:()=>[18,18],validator:e=>e.length===2}},setup(e,{slots:i}){const d=z(()=>`q-carousel__control absolute absolute-${e.position}`),v=z(()=>({margin:`${e.offset[1]}px ${e.offset[0]}px`}));return()=>C("div",{class:d.value,style:v.value},ue(i.default))}});const De=["top","right","bottom","left"],Le=["regular","flat","outline","push","unelevated"];var Oe=Q({name:"QCarousel",props:{...be,...Ee,...ve,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Le.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>De.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ge,...Ue],setup(e,{slots:i}){const{proxy:{$q:d}}=we(),v=Ce(e,d);let l=null,c;const{updatePanelsList:t,getPanelContent:I,panelDirectives:ce,goToPanel:H,previousPanel:Y,nextPanel:K,getEnabledPanels:de,panelIndex:$}=Ae(),{inFullscreen:J}=ye(),me=z(()=>J.value!==!0&&e.height!==void 0?{height:e.height}:{}),M=z(()=>e.vertical===!0?"vertical":"horizontal"),pe=z(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(J.value===!0?" fullscreen":"")+(v.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${M.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${Z.value}`:"")),W=z(()=>{const g=[e.prevIcon||d.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||d.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&d.lang.rtl===!0?g.reverse():g}),X=z(()=>e.navigationIcon||d.iconSet.carousel.navigationIcon),fe=z(()=>e.navigationActiveIcon||X.value),Z=z(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),B=z(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));re(()=>e.modelValue,()=>{e.autoplay&&N()}),re(()=>e.autoplay,g=>{g?N():l!==null&&(clearTimeout(l),l=null)});function N(){const g=Se(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,g>=0?K():Y()},g)}ze(()=>{e.autoplay&&N()}),_e(()=>{l!==null&&clearTimeout(l)});function ee(g,T){return C("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${g} q-carousel__navigation--${Z.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[C("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},de().map(T))])}function he(){const g=[];if(e.navigation===!0){const T=i["navigation-icon"]!==void 0?i["navigation-icon"]:y=>C(p,{key:"nav"+y.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${y.active===!0?"":"in"}active`,...y.btnProps,onClick:y.onClick}),G=c-1;g.push(ee("buttons",(y,te)=>{const oe=y.props.name,ae=$.value===te;return T({index:te,maxIndex:G,name:oe,active:ae,btnProps:{icon:ae===!0?fe.value:X.value,size:"sm",...B.value},onClick:()=>{H(oe)}})}))}else if(e.thumbnails===!0){const T=e.controlColor!==void 0?` text-${e.controlColor}`:"";g.push(ee("thumbnails",G=>{const y=G.props;return C("img",{key:"tmb#"+y.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${y.name===e.modelValue?"":"in"}active`+T,src:y.imgSrc||y["img-src"],onClick:()=>{H(y.name)}})}))}return e.arrows===!0&&$.value>=0&&((e.infinite===!0||$.value>0)&&g.push(C("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${M.value} absolute flex flex-center`},[C(p,{icon:W.value[0],...B.value,onClick:Y})])),(e.infinite===!0||$.value<c-1)&&g.push(C("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${M.value} absolute flex flex-center`},[C(p,{icon:W.value[1],...B.value,onClick:K})]))),ke(i.control,g)}return()=>(c=t(i),C("div",{class:pe.value,style:me.value},[qe("div",{class:"q-carousel__slides-container"},I(),"sl-cont",e.swipeable,()=>ce.value)].concat(he())))}});const Re={name:"ProyectoDetailPage",data(){return{empresa:{},confirmDeleteProyecto:!1,selectedImpuesto:{name:"",valor:""},confirmarDeleteCotizacion:!1,openEditCotizacion:!1,selectedidcotizacion:"",newproceso:!1,impuestoHorasFactura:"",statusProyecto:"",confirmarAprobado:!1,selectedUnidad:[],impuestos:[],optionsUnidad:["Hora","Serv","Viaje","m\xB2","m\xB3"],newCotizacion:!1,total:0,proyecto:{name:"",fecha_inicio:"",fecha_fin:"",status:"",cliente:{nombre:""}},nuevaCotizacion:{cantidad:0,UM:"",nombreServicio:"",precio:0,subtotal:0,valorimpuesto:0,importeImpuesto:0,proyectoId:this.$route.params.idproyecto},subtotalGeneral:0,itbisGeneral:0,totalGeneral:0,PresubtotalGeneral:0,PreitbisGeneral:0,PretotalGeneral:0,servicios:[],cotizacion:[],controlacarreo:[],controlviajes:[],controlhoras:[],cantidadViajes:0,cantidadMetros:0,cantidadHoras:0,prefacturas:[],estadoFactura:"",columsacarreo:[{label:"Consecutivo",name:"consecutivo",required:!0,align:"lefth",field:e=>e.consecutivo,format:e=>`${e}`,sortable:!0},{label:"Estado",name:"status",required:!0,align:"lefth",field:e=>e.status,format:e=>`${e}`,sortable:!0},{label:"Cantidad de viajes",name:"cantViajes",required:!0,align:"lefth",field:e=>e.cantViajes,format:e=>`${e}`,sortable:!0},{label:"Servicio",name:"servicio.name",required:!0,align:"lefth",field:e=>e.servicio.name,format:e=>`${e}`,sortable:!0},{label:"Nombre Empleado",name:"empleado.name",required:!0,align:"lefth",field:e=>e.empleado.name,format:e=>`${e}`,sortable:!0},{label:"Apellidos Empleado",name:"empleado.lastname",required:!0,align:"lefth",field:e=>e.empleado.lastname,format:e=>`${e}`,sortable:!0},{label:"Equipo",name:"equipo.ficha",required:!0,align:"lefth",field:e=>e.equipo.ficha,format:e=>`${e}`,sortable:!0},{label:"Desde",name:"desde",required:!0,align:"lefth",field:e=>e.desde,format:e=>`${e}`,sortable:!0},{label:"Hasta",name:"hasta",required:!0,align:"lefth",field:e=>e.hasta,format:e=>`${e}`,sortable:!0},{label:"Fecha",name:"fecha",required:!0,align:"lefth",field:e=>e.fecha,format:e=>`${e}`,sortable:!0}],columscotizacion:[{label:"Cantidad",name:"cantidad",required:!0,align:"lefth",field:e=>e.cantidad,format:e=>`${e}`,sortable:!0},{label:"Unidad",name:"UM",required:!0,align:"lefth",field:e=>e.UM,format:e=>`${e}`,sortable:!0},{label:"Servicio",name:"nombreServicio",required:!0,align:"lefth",field:e=>e.nombreServicio,format:e=>`${e}`,sortable:!0},{label:"Precio Unitario RD$",name:"precio",required:!0,align:"lefth",field:e=>e.precio,format:e=>`${e}`,sortable:!0},{label:"Sub Total RD$",name:"subtotal",required:!0,align:"lefth",field:e=>e.subtotal,format:e=>`${e}`,sortable:!0},{label:"Impuesto RD$",name:"importeimpuesto",required:!0,align:"lefth",field:e=>e.importeimpuesto,format:e=>`${e}`,sortable:!0}],columsviaje:[{label:"Consecutivo",name:"consecutivo",required:!0,align:"lefth",field:e=>e.consecutivo,format:e=>`${e}`,sortable:!0},{label:"Estado",name:"status",required:!0,align:"lefth",field:e=>e.status,format:e=>`${e}`,sortable:!0},{label:"Metros C\xFAbicos",name:"metrosCubicos",required:!0,align:"lefth",field:e=>e.metrosCubicos,format:e=>`${e}`,sortable:!0},{label:"Servicio",name:"servicio.name",required:!0,align:"lefth",field:e=>e.servicio.name,format:e=>`${e}`,sortable:!0},{label:"Nombre Empleado",name:"empleado.name",required:!0,align:"lefth",field:e=>e.empleado.name,format:e=>`${e}`,sortable:!0},{label:"Apellidos Empleado",name:"empleado.lastname",required:!0,align:"lefth",field:e=>e.empleado.lastname,format:e=>`${e}`,sortable:!0},{label:"Equipo",name:"equipo.ficha",required:!0,align:"lefth",field:e=>e.equipo.ficha,format:e=>`${e}`,sortable:!0},{label:"Desde",name:"desde",required:!0,align:"lefth",field:e=>e.desde,format:e=>`${e}`,sortable:!0},{label:"Hasta",name:"hasta",required:!0,align:"lefth",field:e=>e.hasta,format:e=>`${e}`,sortable:!0},{label:"Fecha",name:"fecha",required:!0,align:"lefth",field:e=>e.fecha,format:e=>`${e}`,sortable:!0}],columshora:[{label:"Consecutivo",name:"consecutivo",required:!0,align:"lefth",field:e=>e.consecutivo,format:e=>`${e}`,sortable:!0},{label:"Estado",name:"status",required:!0,align:"lefth",field:e=>e.status,format:e=>`${e}`,sortable:!0},{label:"Cantidad Hora",name:"horas",required:!0,align:"lefth",field:e=>e.horas,format:e=>`${e}`,sortable:!0},{label:"Servicio",name:"servicio.name",required:!0,align:"lefth",field:e=>e.servicio.name,format:e=>`${e}`,sortable:!0},{label:"Nombre Empleado",name:"empleado.name",required:!0,align:"lefth",field:e=>e.empleado.name,format:e=>`${e}`,sortable:!0},{label:"Apellidos Empleado",name:"empleado.lastname",required:!0,align:"lefth",field:e=>e.empleado.lastname,format:e=>`${e}`,sortable:!0},{label:"Equipo",name:"equipo.ficha",required:!0,align:"lefth",field:e=>e.equipo.ficha,format:e=>`${e}`,sortable:!0},{label:"Fecha",name:"fecha",required:!0,align:"lefth",field:e=>e.fecha,format:e=>`${e}`,sortable:!0}],columsprefacturas:[{label:"Cantidad",name:"cantidad",required:!0,align:"lefth",field:e=>e.cantidad,format:e=>`${e}`,sortable:!0},{label:"Medida",name:"UM",required:!0,align:"lefth",field:e=>e.UM,format:e=>`${e}`,sortable:!0},{label:"Precio",name:"precio",required:!0,align:"lefth",field:e=>e.precio,format:e=>`${e}`,sortable:!0},{label:"Descripcion",name:"nombreServicio",required:!0,align:"lefth",field:e=>e.nombreServicio,format:e=>`${e}`,sortable:!0},{label:"ITBIS",name:"importeimpuesto",required:!0,align:"lefth",field:e=>e.importeimpuesto,format:e=>`${e}`,sortable:!0},{label:"Valor",name:"importe",required:!0,align:"lefth",field:e=>e.importe,format:e=>`${e}`,sortable:!0}],procezarConduce:{idconduce:"",nombreServicio:"",UM:"",cantidad:0,precio:0,valorimpuesto:0,importeImpuesto:0,importe:0,valorTotal:0},confirmacerrar:!1,pdfmake:Te(),selectedImpuestoCotizacion:{name:"",valor:""},confirmarEditConduce:!1,createnewproceso:!0}},methods:{async loadProyecto(){await h.get("/proyecto/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.proyecto=e.data,this.cotizacion=e.data.cotizacion,this.prefacturas=e.data.prefacturas,this.statusProyecto=e.data.status}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.calcularValores()},Validar(){return!!this.prefacturas.find(e=>e.cantidad>0)},calcularValores(){if(this.totalGeneral=0,this.subtotalGeneral=0,this.itbisGeneral=0,this.PreitbisGeneral=0,this.PretotalGeneral=0,this.cotizacion.length>0)for(let e=0;e<this.cotizacion.length;e++)this.subtotalGeneral+=parseFloat(this.cotizacion[e].subtotal),this.itbisGeneral+=parseFloat(this.cotizacion[e].importeimpuesto);this.totalGeneral=this.subtotalGeneral+this.itbisGeneral;for(let e=0;e<this.prefacturas.length;e++)this.PresubtotalGeneral+=parseFloat(this.prefacturas[e].importe),this.PreitbisGeneral+=parseFloat(this.prefacturas[e].importeimpuesto);this.PretotalGeneral=this.PresubtotalGeneral+this.PreitbisGeneral},async loadAcarreo(){await h.get("/conduce/getacarreo/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.controlacarreo=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadViajes(){await h.get("/conduce/getviaje/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.controlviajes=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadHoras(){await h.get("/conduce/gethora/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.controlhoras=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},loadServicio(){h.get("/servicio/",{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.servicios=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},loadImpuesto(){h.get("/impuestos/",{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.impuestos=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},AbrirNuevaCotizacion(){this.newCotizacion=!0},async AddCotizacion(){parseFloat(this.nuevaCotizacion.cantidad)>0&this.nuevaCotizacion.UM!==""&this.nuevaCotizacion.nombreServicio!==""&parseFloat(this.nuevaCotizacion.precio.toString())>0?(await h.post("/cotizacion/",this.nuevaCotizacion,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se inserto La Cotizacion "+e.data.nombreServicio,icon:"done"}),this.limpiarCotizacio()}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadProyecto(),this.newCotizacion=!1,this.calcularValores()):this.$q.notify({color:"negative",position:"top",message:"Llene todos los campos ",icon:"report_problem"})},async EditCotizacion(){this.nuevaCotizacion.cantidad<0||this.nuevaCotizacion.UM===""||this.nuevaCotizacion.nombreServicio===""||this.nuevaCotizacion.precio<0?this.$q.notify({color:"negative",position:"top",message:"Llene todos los campos ",icon:"report_problem"}):(await h.patch("/cotizacion/"+this.selectedidcotizacion,this.nuevaCotizacion,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se edito La Cotizacion "+e.data.nombreServicio,icon:"done"}),this.limpiarCotizacio()}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadProyecto(),this.openEditCotizacion=!1)},ClosedNewCotizacion(){this.newCotizacion=!1,this.limpiarCotizacio()},ClosedEditCotizacion(){this.openEditCotizacion=!1,this.limpiarCotizacio()},async EliminarContizacion(){await h.delete("/cotizacion/"+this.selectedidcotizacion,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se edito La Cotizacion "+e.data.nombreServicio,icon:"done"}),this.limpiarCotizacio()}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadProyecto(),this.openEditCotizacion=!1,this.confirmarDeleteCotizacion=!1},sumar(){this.nuevaCotizacion.subtotal=(parseFloat(this.nuevaCotizacion.cantidad)*parseFloat(this.nuevaCotizacion.precio)).toFixed(2),this.nuevaCotizacion.importeImpuesto=(parseFloat(this.nuevaCotizacion.subtotal)*parseFloat(this.nuevaCotizacion.valorimpuesto)).toFixed(2)},ProcesarDatos(){this.procezarConduce.importe=(parseFloat(this.procezarConduce.cantidad)*parseFloat(this.procezarConduce.precio)).toFixed(2),this.procezarConduce.importeImpuesto=(parseFloat(this.procezarConduce.importe)*parseFloat(this.procezarConduce.valorimpuesto)).toFixed(2),this.procezarConduce.valorTotal=(parseFloat(this.procezarConduce.importe)+parseFloat(this.procezarConduce.importeImpuesto)).toFixed(2)},limpiarCotizacio(){this.nuevaCotizacion.cantidad=0,this.nuevaCotizacion.UM="",this.nuevaCotizacion.nombreServicio="",this.nuevaCotizacion.precio=0,this.nuevaCotizacion.subtotal=0,this.nuevaCotizacion.valorimpuesto=0},EditConduce(){this.confirmarEditConduce=!1,this.newproceso=!0},onRowClick(e){this.LimpiarprocezarConduce(),this.procezarConduce.idconduce=e.id,this.createnewproceso=!0,e.name==="CONTROLVIAJE"&&(this.procezarConduce.UM="M3",this.procezarConduce.cantidad=e.metrosCubicos),e.name==="ACARREO"&&(this.procezarConduce.UM="SERVICIO",this.procezarConduce.cantidad=e.cantViajes),e.name==="CONTROLHORA"&&(this.procezarConduce.UM="HORA",this.procezarConduce.cantidad=e.horas),this.procezarConduce.nombreServicio=e.servicio.name,e.status==="CERRADO"?(this.confirmarEditConduce=!0,this.createnewproceso=!1):this.newproceso=!0},selectCotizacion(e){this.selectedidcotizacion=e.id,this.nuevaCotizacion.cantidad=e.cantidad,this.nuevaCotizacion.UM=e.UM,this.nuevaCotizacion.nombreServicio=e.nombreServicio,this.nuevaCotizacion.precio=e.precio,this.nuevaCotizacion.proyectoId=this.$route.params.idproyecto,this.nuevaCotizacion.valorimpuesto=0,this.statusProyecto=="CREADO"&&(this.openEditCotizacion=!0)},LimpiarprocezarConduce(){this.procezarConduce.idconduce="",this.procezarConduce.nombreServicio="",this.procezarConduce.UM="",this.procezarConduce.cantidad=0,this.procezarConduce.precio=0,this.procezarConduce.valorimpuesto=0,this.procezarConduce.importeImpuesto=0,this.procezarConduce.importe=0,this.procezarConduce.valorTotal=0},ClosedProceso(){this.LimpiarprocezarConduce(),this.newproceso=!1},async CrearProceso(){this.procezarConduce.precio!=0?(this.createnewproceso?(await h.post("/conduce-procezado",this.procezarConduce,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Aprobo inserto el registro "+e.data.nombreServicio,icon:"done"})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.confirmarAprobado=!1,this.procezarConduce.UM==="M3"?this.loadViajes():this.procezarConduce.UM==="HORA"?this.loadHoras():this.procezarConduce.UM==="SERVICIO"&&this.loadAcarreo()):await h.patch("/conduce-procezado/byidconduce/"+this.procezarConduce.idconduce,this.procezarConduce,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Modifico el conduce "+e.data.nombreServicio,icon:"done"})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadProyecto(),this.newproceso=!1):this.$q.notify({color:"negative",position:"top",message:"Debe suministrar un precio mayor a 0",icon:"report_problem"})},FormatoFecha(e){return se(String(e)).format("MM/DD/YYYY hh:mm")},ConfirmAprobado(){this.confirmarAprobado=!0},CompletarProyecto(){this.confirmacerrar=!0},async CerrarProyecto(){await h.get("/proyecto/aprobado/cerrar/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.proyecto=e.data,this.statusProyecto=e.data.status}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.confirmacerrar=!1},async Eliminar(){await h.delete("/proyecto/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.proyecto=e.data,this.$q.notify({color:"positive",position:"top",message:"Se Elimino el proyecto "+e.data.name,icon:"done"})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.confirmDeleteProyecto=!1,this.$router.push("/proyectos")},async AprobarProyecto(){await h.get("/proyecto/aprobar/"+this.$route.params.idproyecto,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.proyecto=e.data,this.statusProyecto=e.data.status}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.confirmarAprobado=!1},multiplicarHoras(){this.importeTotalHoras=this.importeTotalHorasEntrada*this.cantidadHoras},multiplicarVolumen(){this.importeTotalVolumen=this.importeTotalVolumenEntrada*this.cantidadMetros},multiplicarViaje(){this.importeTotalCantidadViaje=this.importeTotalCantidadViajeEntrada*this.cantidadViajes},async EnviarPreFacturar(){await h.get("/factura/aprobar/"+this.proyecto.factura.id,{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Aprobo la Pre Factura "+e.data.consecutivo,icon:"done"})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadProyecto()},CrearPrefactura(){this.$router.push({path:"/createprefactura/"+this.$route.params.idproyecto,params:{idproyecto:this.$route.params.idproyecto}})},onGenPDF(){let e=[["CANTIDAD","UNIDAD","SERVICIO","PRECIO UNIT. DOP","SUBTOTAL DOP","IMPUESTO DOP"]];if(this.cotizacion.length>0){for(let d=0;d<this.cotizacion.length;d++){let v=[this.cotizacion[d].cantidad,this.cotizacion[d].UM,this.cotizacion[d].nombreServicio,this.cotizacion[d].precio,this.cotizacion[d].subtotal,this.cotizacion[d].importeimpuesto];this.SUBTOTALGENERAL+=parseFloat(this.prefacturas[d].importe),this.ITBIS+=parseFloat(this.prefacturas[d].importeimpuesto),this.TOTALGENERAL+=parseFloat(this.prefacturas[d].valortotal),e.push(v)}var i={info:{title:"Cotizacion",author:"Equipos Sigler",subject:"subject of document",keywords:"Cotizacion, sigler"},pageSize:"LETTER",pageMargins:[40,60,40,60],footer:function(d,v){return"Pagina "+d.toString()+" de "+v},content:[{image:this.empresa.logo,fit:[100,100],style:"header"},{text:"Cotizacion",style:"header"},{text:"FECHA: "+se(new Date).format("DD/MM/YYYY"),style:"marginrightStyle"},{text:this.empresa.nombre,style:"negritaStyle"},{text:"RNC. "+this.empresa.rnc,style:"anotherStyle"},{text:"TEL. "+this.empresa.telefono,style:"anotherStyle"},{text:"                                       ",style:"anotherStyle"},{text:"CLIENTE: "+this.proyecto.cliente.nombre,style:"anotherStyle"},{text:"RNC. "+this.proyecto.cliente.rcn,style:"anotherStyle"},{text:"TEL. "+this.proyecto.cliente.telefono,style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"PROYECTO: "+this.proyecto.name,style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto"],body:e}},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"SUBTOTAL GENERAL: "+this.subtotalGeneral.toFixed(2),style:"marginrightStyle"},{text:"ITBIS: "+this.itbisGeneral.toFixed(2),style:"marginrightStyle"},{text:"TOTAL GENERAL: "+this.totalGeneral.toFixed(2),style:"marginrightBoldStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"_____________________           __________________",style:"centro"},{text:"ELABORADA POR              RECIBIDA POR",style:"centro"}],styles:{header:{fontSize:18,bold:!0,alignment:"center"},centro:{fontSize:12,bold:!0,alignment:"center"},anotherStyle:{italics:!0,alignment:"left",fontSize:12},negritaStyle:{italics:!0,alignment:"left",fontSize:12,bold:!0},marginrightStyle:{italics:!0,alignment:"right"},marginrightBoldStyle:{italics:!0,alignment:"right",bold:!0}}};this.pdfmake.tableLayouts={exampleLayout:{hLineWidth:function(d,v){return d===0||d===v.table.body.length?0:d===v.table.headerRows?2:1},vLineWidth:function(d){return 0},hLineColor:function(d){return d===1?"black":"#aaa"},paddingLeft:function(d){return d===0?0:8},paddingRight:function(d,v){return d===v.table.widths.length-1?0:8}}},this.pdfmake.createPdf(i).download()}else this.$q.notify({color:"negative",position:"top",message:"El listado de servicios a cotizar no puede ser menor que 1",icon:"report_problem"})},async loadEmpresa(){await h.get("/empresa",{headers:{Authorization:`Bearer ${f.getUserLogged()}`}}).then(e=>{this.empresa=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))}},mounted(){this.loadProyecto(),this.loadAcarreo(),this.loadViajes(),this.loadHoras(),this.loadServicio(),this.loadImpuesto(),this.loadEmpresa()},setup(){return{slide:Pe(1)}}},$e={key:0},Me={key:1},Be={class:"q-pa-md"},Ne=u("p",null,null,-1),Ge=u("p",null,null,-1),je={key:0},Qe=u("p",null,null,-1),He={class:"q-pa-md q-gutter-sm"},Ye=u("div",{class:"text-h6"},"Nuevo Servicio",-1),Ke={class:"q-pa-md q-gutter-sm"},Je=u("div",{class:"text-h6"},"Nuevo Servicio",-1),We={class:"q-pa-md q-gutter-sm"},Xe=u("span",{class:"q-ml-sm"},"Desea Aprobar el Proyecto?.",-1),Ze={class:"q-pa-md q-gutter-sm"},et=u("span",{class:"q-ml-sm"},"Estas seguro que quieres modificar el Conduce?.",-1),tt={class:"q-pa-md q-gutter-sm"},ot=u("span",{class:"q-ml-sm"},"Desea Eliminar la Cotizaci\xF3n?.",-1),at={class:"q-pa-md q-gutter-sm"},it=u("span",{class:"q-ml-sm"},"Desea Completar el Proyecto?.",-1),lt={class:"q-pa-md q-gutter-sm"},rt=u("span",{class:"q-ml-sm"},"Desea Eliminar el Proyecto?.",-1),nt={class:"q-pa-md q-gutter-sm"},st=u("div",{class:"text-h6"},"Procesar Conduce",-1);function ut(e,i,d,v,l,c){return _(),V(Ie,{class:"q-pa-md"},{default:a(()=>[u("div",null,[u("p",null,"Nombre: "+r(l.proyecto.name),1),u("p",null,"Cliente: "+r(l.proyecto.cliente.nombre),1),l.proyecto.ajuste?(_(),j("p",$e," Ajuste: SI")):P("",!0),l.proyecto.ajuste?P("",!0):(_(),j("p",Me," Ajuste: NO"))]),u("div",Be,[o(Oe,{swipeable:"",animated:"",modelValue:v.slide,"onUpdate:modelValue":i[8]||(i[8]=t=>v.slide=t),ref:"carousel",height:"400px"},{control:a(()=>[o(Fe,{position:"bottom-right",offset:[18,18]},{default:a(()=>[o(p,{push:"",round:"",dense:"",color:"orange","text-color":"black",icon:"arrow_left",onClick:i[6]||(i[6]=t=>e.$refs.carousel.previous())}),o(p,{push:"",round:"",dense:"",color:"orange","text-color":"black",icon:"arrow_right",onClick:i[7]||(i[7]=t=>e.$refs.carousel.next())})]),_:1})]),default:a(()=>[o(R,{name:1},{default:a(()=>[o(F,{flat:"",bordered:"",title:"Cotizaci\xF3n",rows:l.cotizacion,columns:l.columscotizacion,color:"primary","row-key":"name",filter:e.filter},{body:a(t=>[o(D,{props:t,onClick:I=>c.selectCotizacion(t.row)},{default:a(()=>[o(s,{key:"cantidad",props:t},{default:a(()=>[n(r(t.row.cantidad),1)]),_:2},1032,["props"]),o(s,{key:"UM",props:t},{default:a(()=>[n(r(t.row.UM),1)]),_:2},1032,["props"]),o(s,{key:"nombreServicio",props:t},{default:a(()=>[n(r(t.row.nombreServicio),1)]),_:2},1032,["props"]),o(s,{key:"precio",props:t},{default:a(()=>[n(r(t.row.precio),1)]),_:2},1032,["props"]),o(s,{key:"subtotal",props:t},{default:a(()=>[n(r(t.row.subtotal),1)]),_:2},1032,["props"]),o(s,{key:"importeimpuesto",props:t},{default:a(()=>[n(r(t.row.importeimpuesto),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","filter"]),o(ie,{position:"top-right",offset:[18,18]},{default:a(()=>[x((_(),V(le,{icon:"add",direction:"down",color:"primary",disable:e.draggingFab},{default:a(()=>[l.proyecto.status==="CREADO"?(_(),V(E,{key:0,onClick:i[0]||(i[0]=t=>c.ConfirmAprobado()),color:"positive",icon:"add_task",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Aprobar ")]),_:1})]),_:1},8,["disable"])):P("",!0),l.proyecto.status==="CREADO"?(_(),V(E,{key:1,onClick:i[1]||(i[1]=t=>l.confirmDeleteProyecto=!0),color:"negative",icon:"delete",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Eliminar ")]),_:1})]),_:1},8,["disable"])):P("",!0),o(E,{onClick:i[2]||(i[2]=t=>c.onGenPDF()),color:"positive",icon:"print",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Imprimir Cotizacion ")]),_:1})]),_:1},8,["disable"]),l.proyecto.status==="CREADO"?(_(),V(E,{key:2,onClick:i[3]||(i[3]=t=>c.AbrirNuevaCotizacion()),color:"positive",icon:"add_box",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Nuevo Servicio ")]),_:1})]),_:1},8,["disable"])):P("",!0)]),_:1},8,["disable"])),[[ne,e.moveFab,void 0,{prevent:!0,mouse:!0}]])]),_:1}),Ne,u("p",null,"SUBTOTAL GENERAL RD$: "+r(l.subtotalGeneral.toFixed(2)),1),u("p",null,"ITBIS RD$: "+r(l.itbisGeneral.toFixed(2)),1),u("p",null,"TOTAL GENERAL RD$: "+r(l.totalGeneral.toFixed(2)),1)]),_:1}),o(R,{name:2},{default:a(()=>[o(F,{flat:"",bordered:"",title:"Conduces de Acarreos",rows:l.controlacarreo,columns:l.columsacarreo,color:"primary","row-key":"name",filter:e.filter},{body:a(t=>[o(D,{props:t,onClick:I=>c.onRowClick(t.row)},{default:a(()=>[o(s,{key:"consecutivo",props:t},{default:a(()=>[n(r(t.row.consecutivo),1)]),_:2},1032,["props"]),o(s,{key:"status",props:t},{default:a(()=>[n(r(t.row.status),1)]),_:2},1032,["props"]),o(s,{key:"cantViajes",props:t},{default:a(()=>[n(r(t.row.cantViajes),1)]),_:2},1032,["props"]),o(s,{key:"servicio.name",props:t},{default:a(()=>[n(r(t.row.servicio.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.name",props:t},{default:a(()=>[n(r(t.row.empleado.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.lastname",props:t},{default:a(()=>[n(r(t.row.empleado.lastname),1)]),_:2},1032,["props"]),o(s,{key:"equipo.ficha",props:t},{default:a(()=>[n(r(t.row.equipo.ficha),1)]),_:2},1032,["props"]),o(s,{key:"desde",props:t},{default:a(()=>[n(r(t.row.desde),1)]),_:2},1032,["props"]),o(s,{key:"hasta",props:t},{default:a(()=>[n(r(t.row.hasta),1)]),_:2},1032,["props"]),o(s,{key:"fecha",props:t},{default:a(()=>[n(r(c.FormatoFecha(t.row.fecha)),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","filter"]),Ge]),_:1}),o(R,{name:3},{default:a(()=>[o(F,{flat:"",bordered:"",title:"Conduces de Control de Viajes",rows:l.controlviajes,columns:l.columsviaje,color:"primary","row-key":"name",filter:e.filter},{body:a(t=>[o(D,{props:t,onClick:I=>c.onRowClick(t.row)},{default:a(()=>[o(s,{key:"consecutivo",props:t},{default:a(()=>[n(r(t.row.consecutivo),1)]),_:2},1032,["props"]),o(s,{key:"status",props:t},{default:a(()=>[n(r(t.row.status),1)]),_:2},1032,["props"]),o(s,{key:"metrosCubicos",props:t},{default:a(()=>[n(r(t.row.metrosCubicos),1)]),_:2},1032,["props"]),o(s,{key:"servicio.name",props:t},{default:a(()=>[n(r(t.row.servicio.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.name",props:t},{default:a(()=>[n(r(t.row.empleado.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.lastname",props:t},{default:a(()=>[n(r(t.row.empleado.lastname),1)]),_:2},1032,["props"]),o(s,{key:"equipo.ficha",props:t},{default:a(()=>[n(r(t.row.equipo.ficha),1)]),_:2},1032,["props"]),o(s,{key:"desde",props:t},{default:a(()=>[n(r(t.row.desde),1)]),_:2},1032,["props"]),o(s,{key:"hasta",props:t},{default:a(()=>[n(r(t.row.hasta),1)]),_:2},1032,["props"]),o(s,{key:"fecha",props:t},{default:a(()=>[n(r(c.FormatoFecha(t.row.fecha)),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","filter"])]),_:1}),o(R,{name:4},{default:a(()=>[o(F,{flat:"",bordered:"",title:"Conduces de Control de Horas",rows:l.controlhoras,columns:l.columshora,color:"primary","row-key":"name",filter:e.filter},{body:a(t=>[o(D,{props:t,onClick:I=>c.onRowClick(t.row)},{default:a(()=>[o(s,{key:"consecutivo",props:t},{default:a(()=>[n(r(t.row.consecutivo),1)]),_:2},1032,["props"]),o(s,{key:"status",props:t},{default:a(()=>[n(r(t.row.status),1)]),_:2},1032,["props"]),o(s,{key:"horas",props:t},{default:a(()=>[n(r(t.row.horas),1)]),_:2},1032,["props"]),o(s,{key:"servicio.name",props:t},{default:a(()=>[n(r(t.row.servicio.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.name",props:t},{default:a(()=>[n(r(t.row.empleado.name),1)]),_:2},1032,["props"]),o(s,{key:"empleado.lastname",props:t},{default:a(()=>[n(r(t.row.empleado.lastname),1)]),_:2},1032,["props"]),o(s,{key:"equipo.ficha",props:t},{default:a(()=>[n(r(t.row.equipo.ficha),1)]),_:2},1032,["props"]),o(s,{key:"fecha",props:t},{default:a(()=>[n(r(c.FormatoFecha(t.row.fecha)),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","filter"])]),_:1}),o(R,{name:5},{default:a(()=>[o(F,{flat:"",bordered:"",title:"Servicios Procesados",rows:l.prefacturas,columns:l.columsprefacturas,color:"primary","row-key":"name",filter:e.filter},{body:a(t=>[o(D,{props:t},{default:a(()=>[o(s,{key:"cantidad",props:t},{default:a(()=>[n(r(t.row.cantidad),1)]),_:2},1032,["props"]),o(s,{key:"UM",props:t},{default:a(()=>[n(r(t.row.UM),1)]),_:2},1032,["props"]),o(s,{key:"precio",props:t},{default:a(()=>[n(r(t.row.precio),1)]),_:2},1032,["props"]),o(s,{key:"nombreServicio",props:t},{default:a(()=>[n(r(t.row.nombreServicio),1)]),_:2},1032,["props"]),o(s,{key:"importeimpuesto",props:t},{default:a(()=>[n(r(t.row.importeimpuesto),1)]),_:2},1032,["props"]),o(s,{key:"importe",props:t},{default:a(()=>[n(r(t.row.importe),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"]),l.proyecto.status==="APROBADO"?(_(),j("div",je,[o(ie,{position:"top-right",offset:[18,18]},{default:a(()=>[x((_(),V(le,{icon:"add",direction:"down",color:"primary",disable:e.draggingFab},{default:a(()=>[o(E,{onClick:i[4]||(i[4]=t=>c.CompletarProyecto()),color:"positive",icon:"remove_done",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Terminar Proyecto ")]),_:1})]),_:1},8,["disable"]),c.Validar()?(_(),V(E,{key:0,onClick:i[5]||(i[5]=t=>c.CrearPrefactura()),color:"positive",icon:"add_box",disable:e.draggingFab},{default:a(()=>[o(U,null,{default:a(()=>[n(" Crear Prefactura ")]),_:1})]),_:1},8,["disable"])):P("",!0)]),_:1},8,["disable"])),[[ne,e.moveFab,void 0,{prevent:!0,mouse:!0}]])]),_:1})])):P("",!0),Qe,u("p",null,"SUBTOTAL GENERAL RD$: "+r(l.PresubtotalGeneral.toFixed(2)),1),u("p",null,"ITBIS RD$: "+r(l.PreitbisGeneral.toFixed(2)),1),u("p",null,"TOTAL GENERAL RD$: "+r(l.PretotalGeneral.toFixed(2)),1)]),_:1})]),_:1},8,["modelValue"])]),u("template",null,[u("div",He,[o(S,{modelValue:l.newCotizacion,"onUpdate:modelValue":i[20]||(i[20]=t=>l.newCotizacion=t),persistent:""},{default:a(()=>[o(q,{class:"my-card",flat:"",bordered:""},{default:a(()=>[o(m,null,{default:a(()=>[Ye]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.nuevaCotizacion.cantidad,"onUpdate:modelValue":i[9]||(i[9]=t=>l.nuevaCotizacion.cantidad=t),label:"Cantidad",onKeyup:i[10]||(i[10]=t=>c.sumar()),mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{color:"primary",filled:"",modelValue:l.nuevaCotizacion.UM,"onUpdate:modelValue":i[11]||(i[11]=t=>l.nuevaCotizacion.UM=t),options:l.optionsUnidad,label:"Seleccione la Unidad"},{prepend:a(()=>[]),_:1},8,["modelValue","options"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{filled:"",modelValue:l.nuevaCotizacion.nombreServicio,"onUpdate:modelValue":i[12]||(i[12]=t=>l.nuevaCotizacion.nombreServicio=t),options:l.servicios,"option-value":t=>Object(t)===t&&"name"in t?t.name:null,"option-label":t=>Object(t)===t&&"name"in t?t.name:"- Servicio -","emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.nuevaCotizacion.precio,"onUpdate:modelValue":i[13]||(i[13]=t=>l.nuevaCotizacion.precio=t),label:"Precio Unitario *",onKeyup:i[14]||(i[14]=t=>c.sumar()),mask:"#.##","fill-mask":"0","reverse-fill-mask":"",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{filled:"",modelValue:l.nuevaCotizacion.valorimpuesto,"onUpdate:modelValue":i[15]||(i[15]=t=>l.nuevaCotizacion.valorimpuesto=t),options:l.impuestos,"option-value":t=>Object(t)===t&&"valor"in t?t.valor:null,"option-label":t=>Object(t)===t&&"name"in t?t.name:"- Impuesto -","emit-value":"","map-options":"",change:c.sumar()},null,8,["modelValue","options","option-value","option-label","change"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",readonly:!0,disable:!0,modelValue:l.nuevaCotizacion.subtotal,"onUpdate:modelValue":i[16]||(i[16]=t=>l.nuevaCotizacion.subtotal=t),label:"SubTotal *",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",readonly:!0,disable:!0,modelValue:l.nuevaCotizacion.importeImpuesto,"onUpdate:modelValue":i[17]||(i[17]=t=>l.nuevaCotizacion.importeImpuesto=t),label:"Impuesto *",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(k,null,{default:a(()=>[o(p,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[18]||(i[18]=t=>c.AddCotizacion())}),o(p,{label:"Cancelar",icon:"cancel",type:"reset",color:"primary",flat:"",class:"q-ml-sm",onClick:i[19]||(i[19]=t=>c.ClosedNewCotizacion())})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",Ke,[o(S,{modelValue:l.openEditCotizacion,"onUpdate:modelValue":i[33]||(i[33]=t=>l.openEditCotizacion=t),persistent:""},{default:a(()=>[o(q,{class:"my-card",flat:"",bordered:""},{default:a(()=>[o(m,null,{default:a(()=>[Je]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.nuevaCotizacion.cantidad,"onUpdate:modelValue":i[21]||(i[21]=t=>l.nuevaCotizacion.cantidad=t),label:"Cantidad",onKeyup:i[22]||(i[22]=t=>c.sumar()),mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{color:"primary",filled:"",modelValue:l.nuevaCotizacion.UM,"onUpdate:modelValue":i[23]||(i[23]=t=>l.nuevaCotizacion.UM=t),options:l.optionsUnidad,label:"Seleccione la Unidad"},{prepend:a(()=>[]),_:1},8,["modelValue","options"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{filled:"",modelValue:l.nuevaCotizacion.nombreServicio,"onUpdate:modelValue":i[24]||(i[24]=t=>l.nuevaCotizacion.nombreServicio=t),options:l.servicios,"option-value":t=>Object(t)===t&&"name"in t?t.name:null,"option-label":t=>Object(t)===t&&"name"in t?t.name:"- Servicio -","emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.nuevaCotizacion.precio,"onUpdate:modelValue":i[25]||(i[25]=t=>l.nuevaCotizacion.precio=t),label:"Precio Unitario *",onKeyup:i[26]||(i[26]=t=>c.sumar()),mask:"#.##","fill-mask":"0","reverse-fill-mask":"",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{filled:"",modelValue:l.nuevaCotizacion.valorimpuesto,"onUpdate:modelValue":i[27]||(i[27]=t=>l.nuevaCotizacion.valorimpuesto=t),options:l.impuestos,"option-value":t=>Object(t)===t&&"valor"in t?t.valor:null,"option-label":t=>Object(t)===t&&"name"in t?t.name:"- Impuesto -","emit-value":"","map-options":"",change:c.sumar()},null,8,["modelValue","options","option-value","option-label","change"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",readonly:!0,disable:!0,modelValue:l.nuevaCotizacion.subtotal,"onUpdate:modelValue":i[28]||(i[28]=t=>l.nuevaCotizacion.subtotal=t),label:"SubTotal *",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",readonly:!0,disable:!0,modelValue:l.nuevaCotizacion.importeImpuesto,"onUpdate:modelValue":i[29]||(i[29]=t=>l.nuevaCotizacion.importeImpuesto=t),label:"Impuesto *",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(k,null,{default:a(()=>[o(p,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[30]||(i[30]=t=>c.EditCotizacion())}),o(p,{label:"Eliminar",icon:"delete",type:"submit",color:"negative",flat:"",class:"q-ml-sm",onClick:i[31]||(i[31]=t=>l.confirmarDeleteCotizacion=!0)}),o(p,{label:"Cancelar",icon:"cancel",type:"reset",color:"primary",flat:"",class:"q-ml-sm",onClick:i[32]||(i[32]=t=>c.ClosedEditCotizacion())})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",We,[o(S,{modelValue:l.confirmarAprobado,"onUpdate:modelValue":i[35]||(i[35]=t=>l.confirmarAprobado=t),persistent:""},{default:a(()=>[o(q,null,{default:a(()=>[o(m,{class:"row items-center"},{default:a(()=>[o(L,{icon:"priority_high",color:"primary","text-color":"white"}),Xe]),_:1}),o(k,{align:"right"},{default:a(()=>[x(o(p,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[O]]),o(p,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[34]||(i[34]=t=>c.AprobarProyecto())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",Ze,[o(S,{modelValue:l.confirmarEditConduce,"onUpdate:modelValue":i[37]||(i[37]=t=>l.confirmarEditConduce=t),persistent:""},{default:a(()=>[o(q,null,{default:a(()=>[o(m,{class:"row items-center"},{default:a(()=>[o(L,{icon:"priority_high",color:"primary","text-color":"white"}),et]),_:1}),o(k,{align:"right"},{default:a(()=>[x(o(p,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[O]]),o(p,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[36]||(i[36]=t=>c.EditConduce())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",tt,[o(S,{modelValue:l.confirmarDeleteCotizacion,"onUpdate:modelValue":i[39]||(i[39]=t=>l.confirmarDeleteCotizacion=t),persistent:""},{default:a(()=>[o(q,null,{default:a(()=>[o(m,{class:"row items-center"},{default:a(()=>[o(L,{icon:"priority_high",color:"primary","text-color":"white"}),ot]),_:1}),o(k,{align:"right"},{default:a(()=>[x(o(p,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[O]]),o(p,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[38]||(i[38]=t=>c.EliminarContizacion())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",at,[o(S,{modelValue:l.confirmacerrar,"onUpdate:modelValue":i[41]||(i[41]=t=>l.confirmacerrar=t),persistent:""},{default:a(()=>[o(q,null,{default:a(()=>[o(m,{class:"row items-center"},{default:a(()=>[o(L,{icon:"priority_high",color:"primary","text-color":"white"}),it]),_:1}),o(k,{align:"right"},{default:a(()=>[x(o(p,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[O]]),o(p,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[40]||(i[40]=t=>c.CerrarProyecto())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",lt,[o(S,{modelValue:l.confirmDeleteProyecto,"onUpdate:modelValue":i[43]||(i[43]=t=>l.confirmDeleteProyecto=t),persistent:""},{default:a(()=>[o(q,null,{default:a(()=>[o(m,{class:"row items-center"},{default:a(()=>[o(L,{icon:"priority_high",color:"primary","text-color":"white"}),rt]),_:1}),o(k,{align:"right"},{default:a(()=>[x(o(p,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[O]]),o(p,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[42]||(i[42]=t=>c.Eliminar())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),u("template",null,[u("div",nt,[o(S,{modelValue:l.newproceso,"onUpdate:modelValue":i[52]||(i[52]=t=>l.newproceso=t),persistent:""},{default:a(()=>[o(q,{class:"my-card",flat:"",bordered:""},{default:a(()=>[o(m,null,{default:a(()=>[st]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.procezarConduce.precio,"onUpdate:modelValue":i[44]||(i[44]=t=>l.procezarConduce.precio=t),label:"Precio",onKeyup:i[45]||(i[45]=t=>c.ProcesarDatos()),mask:"#.##","fill-mask":"0","reverse-fill-mask":"",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(w,{filled:"",modelValue:l.procezarConduce.valorimpuesto,"onUpdate:modelValue":i[46]||(i[46]=t=>l.procezarConduce.valorimpuesto=t),options:l.impuestos,"option-value":t=>Object(t)===t&&"valor"in t?t.valor:null,"option-label":t=>Object(t)===t&&"name"in t?t.name:"- Impuesto -","emit-value":"","map-options":"",change:c.ProcesarDatos()},null,8,["modelValue","options","option-value","option-label","change"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.procezarConduce.importe,"onUpdate:modelValue":i[47]||(i[47]=t=>l.procezarConduce.importe=t),label:"Importe",readonly:!0,disable:!0,mask:"#.##","fill-mask":"0","reverse-fill-mask":"",prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.procezarConduce.importeImpuesto,"onUpdate:modelValue":i[48]||(i[48]=t=>l.procezarConduce.importeImpuesto=t),label:"Importe Impuesto",readonly:!0,disable:!0,prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(m,{class:"horizontal"},{default:a(()=>[o(b,{filled:"",modelValue:l.procezarConduce.valorTotal,"onUpdate:modelValue":i[49]||(i[49]=t=>l.procezarConduce.valorTotal=t),label:"Importe Total",readonly:!0,disable:!0,prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),o(A),o(m,{class:"horizontal"},{default:a(()=>[o(k,null,{default:a(()=>[o(p,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[50]||(i[50]=t=>c.CrearProceso())}),o(p,{label:"Cancelar",icon:"cancel",type:"reset",color:"primary",flat:"",class:"q-ml-sm",onClick:i[51]||(i[51]=t=>c.ClosedProceso())})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})}var Vt=Ve(Re,[["render",ut]]);export{Vt as default};
