import{_ as U,o as b,c as C,w as o,f as l,a as t,J as s,aw as u,b2 as x,M as n,a$ as A,af as h,e as p,N as f,Q as V,ah as q,ax as g,O as w,P as I}from"./index.ef228992.js";import{Q as P}from"./QSpace.7f894e1d.js";import{b as N,Q as R,a as S,g as B}from"./QTable.54a77e6e.js";import{Q as y}from"./QCardActions.bed2bb53.js";import{Q as O,a as E,b as T,c as D}from"./QPageSticky.a179ccb3.js";import{Q as F}from"./QInput.a2bee355.js";import{Q as k}from"./QRadio.3224b909.js";import{Q as z}from"./QPage.2fc420a1.js";import{C as L}from"./ClosePopup.6197016b.js";import{T as Q}from"./TouchPan.9047fff0.js";import{api as d}from"./axios.23aa70c0.js";import{u as M}from"./use-quasar.38626e8f.js";import{a as c}from"./authenticate.bcdfbf4f.js";import{u as G}from"./index.403b85a6.js";import{h as $}from"./moment.9709ab41.js";import"./format.6bd9982d.js";import"./use-key-composition.25c6204a.js";import"./QItemLabel.1cc16253.js";import"./js.cookie.f93afda9.js";M();const j={name:"PreFacturaDetailPage",data(){return{moneda:"",monedas:[],editNota:!1,b01:"",b02:"",b14:"",codigo:{id:"",valor:"",status:"",fecha:""},shape:"cf",createFacturaModal:!1,confirmCreate:!1,confirm:!1,editServicioModal:!1,idServicioSelected:"",editServicio:{cantidad:0,precio:0,valorimpuesto:0},confirmDelete:!1,confirmarAprobarFactura:!1,editCliente:!1,clientes:[],selectedCliente:{idcliente:"",nombre:""},empresa:{},factura:{id:"",nombreproyecto:"",cliente:{id:"",nombre:""}},prefacturas:[],columsprefactura:[{label:"Cantidad",name:"cantidad",required:!0,align:"center",field:e=>e.cantidad,format:e=>`${e}`,sortable:!0},{label:"UM",name:"UM",required:!0,align:"center",field:e=>e.UM,format:e=>`${e}`,sortable:!0},{label:"Servicio",name:"nombreServicio",required:!0,align:"center",field:e=>e.nombreServicio,format:e=>`${e}`,sortable:!0},{label:"Precio",name:"precio",required:!0,align:"center",field:e=>e.precio,format:e=>`${e}`,sortable:!0},{label:"Importe",name:"importe",required:!0,align:"center",field:e=>e.importe,format:e=>`${e}`,sortable:!0},{label:"Importe ITBI",name:"importeimpuesto",required:!0,align:"center",field:e=>e.importeimpuesto,format:e=>`${e}`,sortable:!0},{label:"Importe Total",name:"valortotal",required:!0,align:"center",field:e=>e.valortotal,format:e=>`${e}`,sortable:!0}],pdfmake:G(),SUBTOTALGENERAL:0,ITBIS:0,TOTALGENERAL:0,bodyTable:[["CANTIDAD","UNIDAD","DESCRIPCION","PRECIO UNIT. DOP","SUBTOTAL DOP"]]}},methods:{loadMoneda(){d.get("/moneda/",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.monedas=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},OpenEditFactura(){this.selectedCliente={},this.selectedCliente.idcliente=this.factura.cliente.id,this.selectedCliente.nombre=this.factura.cliente.nombre,this.editCliente=!0},CrearFactura(){this.confirmCreate=!1,this.createFacturaModal=!0},AlertPrecio(){this.$q.notify({color:"positive",position:"top",message:"Estas Modificando el Precio Inical",icon:"alert"})},async EditFactura(){this.selectedCliente===""?this.$q.notify({color:"negative",position:"top",message:"Seleccione un cliente",icon:"report_problem"}):await d.patch("/factura/editClient/"+this.$route.params.idfactura,{idcliente:this.selectedCliente},{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.factura=e.data,this.$q.notify({color:"positive",position:"top",message:"Se cambio el cliente a la Factura Proforma",icon:"done"}),this.editCliente=!1}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadEmpresa(){await d.get("/empresa",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.empresa=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async CancelPrefactura(){await d.delete("/factura/"+this.$route.params.idfactura,{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Cancelo la Prefactura: "+e.data.consecutivo,icon:"done"}),this.$router.push("/ingresos")}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadCliente(){await d.get("/cliente",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.clientes=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},Totales(){this.SUBTOTALGENERAL=0,this.ITBIS=0,this.TOTALGENERAL=0;for(let e=0;e<this.prefacturas.length;e++){let i=[this.prefacturas[e].cantidad,this.prefacturas[e].UM,this.prefacturas[e].nombreServicio,this.prefacturas[e].precio,this.prefacturas[e].importe];this.SUBTOTALGENERAL+=parseFloat(this.prefacturas[e].importe),this.ITBIS+=parseFloat(this.prefacturas[e].importeimpuesto),this.TOTALGENERAL+=parseFloat(this.prefacturas[e].valortotal),this.bodyTable.push(i)}},onGenPDF(){if(this.prefacturas.length>0){var e={info:{title:"Factura Proforma",author:"Equipos Sigler",subject:"subject of document",keywords:"factura, Proforma, sigler"},pageSize:"LETTER",pageMargins:[40,60,40,60],footer:function(i,v){return"Pagina "+i.toString()+" de "+v},content:[{image:this.empresa.logo,fit:[100,100],style:"header"},{text:"FACTURA PROFORMA",style:"header"},{text:"FECHA: "+$(this.factura.updated_at).format("DD/MM/YYYY"),style:"marginrightStyle"},{text:"No."+this.factura.consecutivoprefactura,style:"marginrightStyle"},{text:this.empresa.nombre,style:"negritaStyle"},{text:"RNC. "+this.empresa.rnc,style:"anotherStyle"},{text:"TEL. "+this.empresa.telefono,style:"anotherStyle"},{text:"                                       ",style:"anotherStyle"},{text:"CLIENTE: "+this.factura.cliente.nombre,style:"anotherStyle"},{text:"RNC. "+this.factura.cliente.rcn,style:"anotherStyle"},{text:"TEL. "+this.factura.cliente.telefono,style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"PROYECTO: "+this.factura.nombreproyecto,style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{layout:"lightHorizontalLines",table:{headerRows:1,widths:["auto","auto","auto","auto","auto"],body:this.bodyTable}},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"                                              ",style:"anotherStyle"},{text:"SUBTOTAL GENERAL: "+this.SUBTOTALGENERAL.toFixed(2),style:"marginrightStyle"},{text:"ITBIS: "+this.ITBIS.toFixed(2),style:"marginrightStyle"},{text:"TOTAL GENERAL: "+this.TOTALGENERAL.toFixed(2),style:"marginrightBoldStyle"},{text:this.factura.notaprefactura,style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"                  ",style:"anotherStyle"},{text:"_____________________           __________________",style:"centro"},{text:"ELABORADA POR              RECIBIDA POR",style:"centro"}],styles:{header:{fontSize:18,bold:!0,alignment:"center"},centro:{fontSize:12,bold:!0,alignment:"center"},anotherStyle:{italics:!0,alignment:"left",fontSize:12},negritaStyle:{italics:!0,alignment:"left",fontSize:12,bold:!0},marginrightStyle:{italics:!0,alignment:"right"},marginrightBoldStyle:{italics:!0,alignment:"right",bold:!0}}};this.pdfmake.tableLayouts={exampleLayout:{hLineWidth:function(i,v){return i===0||i===v.table.body.length?0:i===v.table.headerRows?2:1},vLineWidth:function(i){return 0},hLineColor:function(i){return i===1?"black":"#aaa"},paddingLeft:function(i){return i===0?0:8},paddingRight:function(i,v){return i===v.table.widths.length-1?0:8}}},this.pdfmake.createPdf(e).download()}else this.$q.notify({color:"negative",position:"top",message:"No se pude Generar una prefactura sin al menos un servicio",icon:"report_problem"})},async loadFacturaById(){await d.get("/factura/"+this.$route.params.idfactura,{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.prefacturas=e.data.servicioProcesado,this.factura=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.Totales()},async EditServicio(){await d.patch("/servicio-procesado/"+this.idServicioSelected,this.editServicio,{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Modifico el servicio "+e.data.nombreServicio,icon:"done"}),this.editServicioModal=!1}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.loadFacturaById(),this.Totales()},async DeleteServicios(){await d.delete("/servicio-procesado/"+this.idServicioSelected,{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Elimino el servicio "+e.data.nombreServicio,icon:"done"}),this.confirm=!1}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.editServicioModal=!1,this.loadFacturaById(),this.Totales()},selectServicio(e){this.idServicioSelected="",this.editServicio.cantidad=0,this.editServicio.precio=0,this.idServicioSelected=e.id,this.editServicio.cantidad=e.cantidad,this.editServicio.precio=e.precio,this.editServicio.valorimpuesto=e.valorimpuesto,this.factura.tipo=="PREFACTURA"&&(this.editServicioModal=!0)},async loadB01(){await d.get("/b01",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.b01=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadB02(){await d.get("/b02",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.b02=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},async loadB14(){await d.get("/b14",{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.b14=e.data}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}))},Verificar(){switch(this.shape){case"cf":{this.codigo={},this.codigo=this.b01;break}case"re":{this.codigo={},this.codigo=this.b14;break}case"cn":{this.codigo={},this.codigo=this.b02;break}}},async GenerarFactura(){switch(this.shape){case"cf":{await d.patch("/factura/b01/"+this.$route.params.idfactura,{idncf:this.codigo.id,idmoneda:this.moneda},{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Genero la Factura "+e.data.consecutivofactura,icon:"done"}),this.$router.push({path:"/detailfactura/"+this.$route.params.idfactura,params:{idfactura:this.$route.params.idfactura}})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}));break}case"re":{await d.patch("/factura/b14/"+this.$route.params.idfactura,{idncf:this.codigo.id},{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Genero la Factura "+e.data.consecutivofactura,icon:"done"}),this.$router.push({path:"/detailfactura/"+this.$route.params.idfactura,params:{idfactura:this.$route.params.idfactura}})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}));break}case"cn":{await d.patch("/factura/b02/"+this.$route.params.idfactura,{idncf:this.codigo.id},{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Genero la Factura "+e.data.consecutivofactura,icon:"done"}),this.$router.push({path:"/detailfactura/"+this.$route.params.idfactura,params:{idfactura:this.$route.params.idfactura}})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message}));break}}},IrFactura(){this.$router.push({path:"/detailfactura/"+this.$route.params.idfactura,params:{idfactura:this.$route.params.idfactura}})},async Nota(){await d.patch("/factura/notaprefactura/"+this.$route.params.idfactura,{nota:this.factura.notaprefactura},{headers:{Authorization:`Bearer ${c.getUserLogged()}`}}).then(e=>{this.$q.notify({color:"positive",position:"top",message:"Se Genero la La nota",icon:"done"})}).catch(e=>this.$q.notify({type:"negative",position:"top",message:e.response.data.message})),this.editNota=!1}},mounted(){this.loadFacturaById(),this.loadEmpresa(),this.loadCliente(),this.loadB01(),this.loadB02(),this.loadB14(),this.loadMoneda()}},_=e=>(w("data-v-f3cf99fc"),e=e(),I(),e),Y={class:"q-pa-md flat bordered"},H={key:0},W={class:"q-pa-md q-gutter-sm"},J=_(()=>l("span",{class:"q-ml-sm"},"Desea Generar la Factura?.",-1)),K={class:"q-pa-md q-gutter-sm"},X={class:"q-pa-md q-gutter-sm"},Z=_(()=>l("div",{class:"text-h6"},"Nota Factura Proforma",-1)),ee={class:"q-pa-md"},te={class:"q-pa-md q-gutter-sm"},ae=_(()=>l("span",{class:"q-ml-sm"},"Desea Cancelar La Prefactura?.",-1)),ie={class:"q-pa-md q-gutter-sm"},oe=_(()=>l("div",{class:"text-h6"},"Editar Servicio",-1)),re={class:"q-pa-md q-gutter-sm"},le=_(()=>l("span",{class:"q-ml-sm"},"Desea Quitar el servicio de la PreFactura.",-1)),se={class:"q-pa-md q-gutter-sm"},ne=_(()=>l("span",{class:"q-ml-sm"},"Desea Generar la Factura?.",-1)),de={class:"q-pa-md q-gutter-sm"},ce=_(()=>l("div",{class:"text-h6"},"Crear Factura",-1)),ue={class:"q-gutter-sm"};function me(e,i,v,pe,r,m){return b(),C(z,{class:"q-pa-md"},{default:o(()=>[l("div",Y,[t(f,{class:"my-card"},{default:o(()=>[t(s,null,{default:o(()=>[l("p",null,"Consecutivo: "+u(r.factura.consecutivoprefactura),1),l("p",null,"Proyecto: "+u(r.factura.nombreproyecto),1)]),_:1}),t(s,{class:"row items-center q-pb-none"},{default:o(()=>[l("p",null,"Cliente: "+u(r.factura.cliente.nombre),1),t(P),r.factura.status=="CREADA"?(b(),x("div",H,[t(n,{color:"primary","icon-right":"edit",flat:"",dense:"",onClick:i[0]||(i[0]=a=>m.OpenEditFactura())})])):A("",!0)]),_:1}),t(h),t(s,null,{default:o(()=>[t(N,{flat:"",bordered:"",title:"Factura Proforma",rows:r.prefacturas,columns:r.columsprefactura,color:"primary","row-key":"name",filter:e.filter},{body:o(a=>[t(R,{props:a,onClick:fe=>m.selectServicio(a.row)},{default:o(()=>[t(S,{key:"cantidad",props:a},{default:o(()=>[p(u(a.row.cantidad),1)]),_:2},1032,["props"]),t(S,{key:"UM",props:a},{default:o(()=>[p(u(a.row.UM),1)]),_:2},1032,["props"]),t(S,{key:"nombreServicio",props:a},{default:o(()=>[p(u(a.row.nombreServicio),1)]),_:2},1032,["props"]),t(S,{key:"precio",props:a},{default:o(()=>[p(u(a.row.precio),1)]),_:2},1032,["props"]),t(S,{key:"importe",props:a},{default:o(()=>[p(u(a.row.importe),1)]),_:2},1032,["props"]),t(S,{key:"importeimpuesto",props:a},{default:o(()=>[p(u(a.row.importeimpuesto),1)]),_:2},1032,["props"]),t(S,{key:"valortotal",props:a},{default:o(()=>[p(u(a.row.valortotal),1)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","filter"])]),_:1}),t(s,null,{default:o(()=>[l("p",null," SUBTOTALGENERAL: "+u(r.SUBTOTALGENERAL.toFixed(2)),1),l("p",null," ITBIS: "+u(r.ITBIS.toFixed(2)),1),l("p",null," TOTALGENERAL: "+u(r.TOTALGENERAL.toFixed(2)),1),l("p",null," NOTA: "+u(r.factura.notaprefactura),1)]),_:1}),t(s)]),_:1})]),l("template",null,[l("div",W,[t(g,{modelValue:r.confirmarAprobarFactura,"onUpdate:modelValue":i[2]||(i[2]=a=>r.confirmarAprobarFactura=a),persistent:""},{default:o(()=>[t(f,null,{default:o(()=>[t(s,{class:"row items-center"},{default:o(()=>[t(V,{icon:"priority_high",color:"primary","text-color":"white"}),J]),_:1}),t(y,{align:"right"},{default:o(()=>[q(t(n,{label:"NO",icon:"cancel",type:"cancel",color:"secondary",flat:"",class:"q-ml-sm"},null,512),[[L]]),t(n,{label:"Si",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[1]||(i[1]=a=>e.AprobarProyecto())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),t(D,{position:"top-right",offset:[18,18]},{default:o(()=>[q((b(),C(O,{icon:"add",direction:"down",color:"primary",disable:e.draggingFab},{default:o(()=>[r.factura.status=="CREADA"?(b(),C(E,{key:0,onClick:i[3]||(i[3]=a=>r.confirmCreate=!0),color:"positive",icon:"fact_check",disable:e.draggingFab},{default:o(()=>[t(T,null,{default:o(()=>[p(" Facturar ")]),_:1})]),_:1},8,["disable"])):A("",!0),r.factura.status=="CREADA"?(b(),C(E,{key:1,onClick:i[4]||(i[4]=a=>r.confirmDelete=!0),color:"negative",icon:"delete",disable:e.draggingFab},{default:o(()=>[t(T,null,{default:o(()=>[p(" Eliminar ")]),_:1})]),_:1},8,["disable"])):A("",!0),r.factura.status=="CREADA"?(b(),C(E,{key:2,onClick:i[5]||(i[5]=a=>r.editNota=!0),color:"positive",icon:"edit_note",disable:e.draggingFab},{default:o(()=>[t(T,null,{default:o(()=>[p(" Nota ")]),_:1})]),_:1},8,["disable"])):A("",!0),t(E,{onClick:i[6]||(i[6]=a=>m.onGenPDF()),color:"positive",icon:"print",disable:e.draggingFab},{default:o(()=>[t(T,null,{default:o(()=>[p(" Imprimir ")]),_:1})]),_:1},8,["disable"]),r.factura.status=="APROBADA"?(b(),C(E,{key:3,onClick:i[7]||(i[7]=a=>m.IrFactura()),color:"positive",icon:"search",disable:e.draggingFab},{default:o(()=>[t(T,null,{default:o(()=>[p(" Ir Factura ")]),_:1})]),_:1},8,["disable"])):A("",!0)]),_:1},8,["disable"])),[[Q,e.moveFab,void 0,{prevent:!0,mouse:!0}]])]),_:1}),l("template",null,[l("div",K,[t(g,{modelValue:r.editCliente,"onUpdate:modelValue":i[11]||(i[11]=a=>r.editCliente=a),persistent:""},{default:o(()=>[t(f,{class:"my-card",flat:"",bordered:""},{default:o(()=>[t(s,{class:"horizontal"},{default:o(()=>[t(B,{filled:"",modelValue:r.selectedCliente,"onUpdate:modelValue":i[8]||(i[8]=a=>r.selectedCliente=a),options:r.clientes,"option-value":a=>Object(a)===a&&"id"in a?a.id:null,"option-label":a=>Object(a)===a&&"nombre"in a?a.nombre:"- Clientes -","emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),_:1}),t(h),t(y,null,{default:o(()=>[t(n,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[9]||(i[9]=a=>m.EditFactura())}),t(n,{label:"Cerrar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm",onClick:i[10]||(i[10]=a=>r.editCliente=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",X,[t(g,{modelValue:r.editNota,"onUpdate:modelValue":i[15]||(i[15]=a=>r.editNota=a),persistent:""},{default:o(()=>[t(f,{class:"my-card",flat:"",bordered:""},{default:o(()=>[t(s,null,{default:o(()=>[Z]),_:1}),t(h),t(s,{class:"horizontal"},{default:o(()=>[l("div",ee,[t(F,{modelValue:r.factura.notaprefactura,"onUpdate:modelValue":i[12]||(i[12]=a=>r.factura.notaprefactura=a),filled:"",type:"textarea"},null,8,["modelValue"])])]),_:1}),t(h),t(y,null,{default:o(()=>[t(n,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[13]||(i[13]=a=>m.Nota())}),t(n,{label:"Cerrar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm",onClick:i[14]||(i[14]=a=>r.editNota=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",te,[t(g,{modelValue:r.confirmDelete,"onUpdate:modelValue":i[17]||(i[17]=a=>r.confirmDelete=a),persistent:""},{default:o(()=>[t(f,null,{default:o(()=>[t(s,{class:"row items-center"},{default:o(()=>[t(V,{icon:"priority_high",color:"primary","text-color":"white"}),ae]),_:1}),t(y,{align:"right"},{default:o(()=>[q(t(n,{label:"Cancelar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[L]]),t(n,{label:"Eliminar",icon:"delete",type:"submit",color:"negative",flat:"",class:"q-ml-sm",onClick:i[16]||(i[16]=a=>m.CancelPrefactura())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",ie,[t(g,{modelValue:r.editServicioModal,"onUpdate:modelValue":i[25]||(i[25]=a=>r.editServicioModal=a),persistent:""},{default:o(()=>[t(f,{class:"my-card",flat:"",bordered:""},{default:o(()=>[t(s,null,{default:o(()=>[oe]),_:1}),t(h),t(s,{class:"horizontal"},{default:o(()=>[t(F,{filled:"",modelValue:r.editServicio.cantidad,"onUpdate:modelValue":i[18]||(i[18]=a=>r.editServicio.cantidad=a),label:"Cantidad","input-class":"text-right"},null,8,["modelValue"])]),_:1}),t(s,{class:"horizontal"},{default:o(()=>[t(F,{filled:"",modelValue:r.editServicio.precio,"onUpdate:modelValue":i[19]||(i[19]=a=>r.editServicio.precio=a),label:"Precio",onKeyup:i[20]||(i[20]=a=>m.AlertPrecio()),prefix:"$","input-class":"text-right"},null,8,["modelValue"])]),_:1}),t(s,{class:"horizontal"},{default:o(()=>[t(F,{filled:"",modelValue:r.editServicio.valorimpuesto,"onUpdate:modelValue":i[21]||(i[21]=a=>r.editServicio.valorimpuesto=a),label:"Impuesto",prefix:"%","input-class":"text-right"},null,8,["modelValue"])]),_:1}),t(h),t(s,{class:"horizontal"},{default:o(()=>[t(y,null,{default:o(()=>[t(n,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[22]||(i[22]=a=>m.EditServicio())}),t(n,{label:"Eliminar",icon:"delete",type:"submit",color:"negative",flat:"",class:"q-ml-sm",onClick:i[23]||(i[23]=a=>r.confirm=!0)}),t(n,{label:"Cerrar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm",onClick:i[24]||(i[24]=a=>r.editServicioModal=!1)})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",re,[t(g,{modelValue:r.confirm,"onUpdate:modelValue":i[27]||(i[27]=a=>r.confirm=a),persistent:""},{default:o(()=>[t(f,null,{default:o(()=>[t(s,{class:"row items-center"},{default:o(()=>[t(V,{icon:"priority_high",color:"primary","text-color":"white"}),le]),_:1}),t(y,{align:"right"},{default:o(()=>[q(t(n,{label:"Cancelar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[L]]),t(n,{label:"Eliminar",icon:"delete",type:"submit",color:"negative",flat:"",class:"q-ml-sm",onClick:i[26]||(i[26]=a=>m.DeleteServicios())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",se,[t(g,{modelValue:r.confirmCreate,"onUpdate:modelValue":i[29]||(i[29]=a=>r.confirmCreate=a),persistent:""},{default:o(()=>[t(f,null,{default:o(()=>[t(s,{class:"row items-center"},{default:o(()=>[t(V,{icon:"priority_high",color:"primary","text-color":"white"}),ne]),_:1}),t(y,{align:"right"},{default:o(()=>[q(t(n,{label:"Cancelar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm"},null,512),[[L]]),t(n,{label:"SI",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[28]||(i[28]=a=>m.CrearFactura())})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),l("template",null,[l("div",de,[t(g,{modelValue:r.createFacturaModal,"onUpdate:modelValue":i[37]||(i[37]=a=>r.createFacturaModal=a),persistent:""},{default:o(()=>[t(f,{class:"my-card",flat:"",bordered:""},{default:o(()=>[t(s,null,{default:o(()=>[ce]),_:1}),t(h),t(s,{class:"horizontal"},{default:o(()=>[l("div",ue,[t(k,{modelValue:r.shape,"onUpdate:modelValue":i[30]||(i[30]=a=>r.shape=a),val:"cf",label:"Cr\xE9dito Fiscal",change:m.Verificar()},null,8,["modelValue","change"]),t(k,{modelValue:r.shape,"onUpdate:modelValue":i[31]||(i[31]=a=>r.shape=a),val:"re",label:"R\xE9gimen Especial"},null,8,["modelValue"]),t(k,{modelValue:r.shape,"onUpdate:modelValue":i[32]||(i[32]=a=>r.shape=a),val:"cn",label:"Consumo"},null,8,["modelValue"])])]),_:1}),t(s,{class:"horizontal"},{default:o(()=>[t(F,{filled:"",modelValue:r.codigo.valor,"onUpdate:modelValue":i[33]||(i[33]=a=>r.codigo.valor=a),label:"NCF","reverse-fill-mask":"","input-class":"text-right"},null,8,["modelValue"])]),_:1}),t(s,{class:"horizontal"},{default:o(()=>[t(B,{filled:"",modelValue:r.moneda,"onUpdate:modelValue":i[34]||(i[34]=a=>r.moneda=a),options:r.monedas,"option-value":a=>Object(a)===a&&"id"in a?a.id:null,"option-label":a=>Object(a)===a&&"valor"in a?a.valor:"- Moneda -","emit-value":"","map-options":""},null,8,["modelValue","options","option-value","option-label"])]),_:1}),t(h),t(s,{class:"horizontal"},{default:o(()=>[t(y,null,{default:o(()=>[t(n,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:i[35]||(i[35]=a=>m.GenerarFactura())}),t(n,{label:"Cerrar",icon:"cancel",type:"cancel",color:"primary",flat:"",class:"q-ml-sm",onClick:i[36]||(i[36]=a=>r.createFacturaModal=!1)})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})}var we=U(j,[["render",me],["__scopeId","data-v-f3cf99fc"]]);export{we as default};
