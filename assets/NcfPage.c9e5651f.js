import{Q as d}from"./QRadio.3224b909.js";import{_ as y,o as u,c as k,w as o,a as e,J as l,f as V,N as m,e as B,aw as b,af as h,b2 as f,a$ as c,M as I}from"./index.ef228992.js";import{b as w,Q as q,a as v}from"./QTable.54a77e6e.js";import{Q as n}from"./QInput.a2bee355.js";import{Q as C}from"./QCardActions.bed2bb53.js";import{Q as x}from"./QPage.2fc420a1.js";import{api as r}from"./axios.23aa70c0.js";import{u as N}from"./use-quasar.38626e8f.js";import{a as p}from"./authenticate.bcdfbf4f.js";import"./moment.9709ab41.js";import"./use-key-composition.25c6204a.js";import"./format.6bd9982d.js";import"./QItemLabel.1cc16253.js";import"./js.cookie.f93afda9.js";N();const _={name:"NcfPage",data(){return{fecha:"",inputB01init:"",inputB01end:"",inputB02init:"",inputB02end:"",inputB14init:"",inputB14end:"",shape:"cf",listNcf:[],lorem:"Hola",b01:[],b02:[],b14:[],row:[],colum:[{label:"NCF",name:"valor",required:!0,align:"center",field:t=>t.valor,format:t=>`${t}`,sortable:!0},{label:"Fecha Vencimiento",name:"fecha",required:!0,align:"center",field:t=>t.fecha,format:t=>`${t}`,sortable:!0}]}},components:{},methods:{async AddCodigos(){switch(this.shape){case"cf":{parseInt(this.inputB01init)<1||parseInt(this.inputB01end)<1||parseInt(this.inputB01end)<parseInt(this.inputB01init)?this.$q.notify({color:"negative",position:"top",message:"Debe introducir una serie valida",icon:"report_problem"}):await r.post("/b01",{init:1e8+parseInt(this.inputB01init),end:1e8+parseInt(this.inputB01end),fecha:this.fecha},{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.$q.notify({color:"positive",position:"top",message:"Se Insertaron los consecutivos",icon:"done"})}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message})),this.loadB01(),this.row=this.b01;break}case"re":{parseInt(this.inputB14init)<1||parseInt(this.inputB14end)<1||parseInt(this.inputB14end)<parseInt(this.inputB14init)?this.$q.notify({color:"negative",position:"top",message:"Debe introducir una serie valida",icon:"report_problem"}):await r.post("/b14",{init:4e8+parseInt(this.inputB14init),end:4e8+parseInt(this.inputB14end),fecha:this.fecha},{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.$q.notify({color:"positive",position:"top",message:"Se Insertaron los consecutivos",icon:"done"})}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message})),this.loadB14(),this.row=this.b014;break}case"cn":{parseInt(this.inputB02init)<1||parseInt(this.inputB02end)<1||parseInt(this.inputB02end)<parseInt(this.inputB02init)?this.$q.notify({color:"negative",position:"top",message:"Debe introducir una serie valida",icon:"report_problem"}):await r.post("/b02",{init:2e8+parseInt(this.inputB02init),end:2e8+parseInt(this.inputB02end),fecha:this.fecha},{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.$q.notify({color:"positive",position:"top",message:"Se Insertaron los consecutivos",icon:"done"})}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message})),this.loadB02(),this.row=this.b02;break}}this.fecha=""},Verificar(){this.shape=="cf"?(this.row=[],this.row=this.b01):this.shape=="re"?(this.row=[],this.row=this.b14):this.shape=="cn"&&(this.row=[],this.row=this.b02)},async loadB01(){await r.get("/b01/all",{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.b01=t.data}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message}))},async loadB02(){await r.get("/b02/all",{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.b02=t.data}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message}))},async loadB14(){await r.get("/b14/all",{headers:{Authorization:`Bearer ${p.getUserLogged()}`}}).then(t=>{this.b14=t.data}).catch(t=>this.$q.notify({type:"negative",position:"top",message:t.response.data.message}))}},mounted(){this.loadB01(),this.loadB02(),this.loadB14()},setup(){return{}}},Q={class:"q-gutter-sm"},U=V("div",{class:"text-h5 q-mt-sm q-mb-xs"},"Adicionar NCF ",-1),F={key:0},z={key:1},A={key:2};function S(t,a,L,D,s,g){return u(),k(x,{class:"q-pa-md"},{default:o(()=>[e(m,{class:"my-card"},{default:o(()=>[e(l,null,{default:o(()=>[V("div",Q,[e(d,{modelValue:s.shape,"onUpdate:modelValue":a[0]||(a[0]=i=>s.shape=i),val:"cf",label:"Cr\xE9dito Fiscal",change:g.Verificar()},null,8,["modelValue","change"]),e(d,{modelValue:s.shape,"onUpdate:modelValue":a[1]||(a[1]=i=>s.shape=i),val:"re",label:"R\xE9gimen Especial"},null,8,["modelValue"]),e(d,{modelValue:s.shape,"onUpdate:modelValue":a[2]||(a[2]=i=>s.shape=i),val:"cn",label:"Consumo"},null,8,["modelValue"])])]),_:1})]),_:1}),e(m,{class:"my-card"},{default:o(()=>[e(l,null,{default:o(()=>[e(w,{flat:"",bordered:"",title:"NCF DISPONIBLES",rows:s.row,columns:s.colum,color:"primary","row-key":"name",filter:t.filter},{body:o(i=>[e(q,{props:i},{default:o(()=>[e(v,{key:"valor",props:i},{default:o(()=>[B(b(i.row.valor),1)]),_:2},1032,["props"]),e(v,{key:"fecha",props:i},{default:o(()=>[B(b(i.row.fecha),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","filter"])]),_:1})]),_:1}),e(m,{class:"my-card"},{default:o(()=>[e(l,null,{default:o(()=>[U]),_:1}),e(h),s.shape=="cf"?(u(),f("div",F,[e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB01init,"onUpdate:modelValue":a[3]||(a[3]=i=>s.inputB01init=i),label:"NCF Inicial",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B01","input-class":"text-right"},null,8,["modelValue"])]),_:1}),e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB01end,"onUpdate:modelValue":a[4]||(a[4]=i=>s.inputB01end=i),label:"NCF Final",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B01","input-class":"text-right"},null,8,["modelValue"])]),_:1})])):c("",!0),s.shape=="re"?(u(),f("div",z,[e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB14init,"onUpdate:modelValue":a[5]||(a[5]=i=>s.inputB14init=i),label:"NCF Inicial",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B14","input-class":"text-right"},null,8,["modelValue"])]),_:1}),e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB14end,"onUpdate:modelValue":a[6]||(a[6]=i=>s.inputB14end=i),label:"NCF Final",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B14","input-class":"text-right"},null,8,["modelValue"])]),_:1})])):c("",!0),s.shape=="cn"?(u(),f("div",A,[e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB02init,"onUpdate:modelValue":a[7]||(a[7]=i=>s.inputB02init=i),label:"NCF Inicial",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B02","input-class":"text-right"},null,8,["modelValue"])]),_:1}),e(l,{class:"horizontal"},{default:o(()=>[e(n,{filled:"",modelValue:s.inputB02end,"onUpdate:modelValue":a[8]||(a[8]=i=>s.inputB02end=i),label:"NCF Final",mask:"########","fill-mask":"00000000","reverse-fill-mask":"",prefix:"B02","input-class":"text-right"},null,8,["modelValue"])]),_:1})])):c("",!0),e(h),e(l,null,{default:o(()=>[e(n,{modelValue:s.fecha,"onUpdate:modelValue":a[9]||(a[9]=i=>s.fecha=i),filled:"",type:"date",label:"Fecha Vencimiento"},null,8,["modelValue"])]),_:1}),e(h),e(C,null,{default:o(()=>[e(I,{label:"Enviar",icon:"send",type:"submit",color:"primary",flat:"",class:"q-ml-sm",onClick:a[10]||(a[10]=i=>g.AddCodigos())})]),_:1})]),_:1})]),_:1})}var Z=y(_,[["render",S]]);export{Z as default};
